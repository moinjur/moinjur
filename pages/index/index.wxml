<view class="container">
  <!-- 顶部用户信息 -->
  <view class="header">
    <view class="userinfo-mini" wx:if="{{hasUserInfo}}">
      <image class="userinfo-avatar-mini" src="{{userInfo.avatarUrl}}" mode="cover"></image>
      <text class="userinfo-nickname-mini">{{userInfo.nickName}}</text>
    </view>
    <view class="weather-info">
      <text class="temperature">{{temperature}}</text>
      <text class="humidity">湿度: {{humidity}}</text>
    </view>
  </view>

  <!-- 登录区域 -->
  <view class="login-section" wx:if="{{!hasUserInfo}}">
    <view class="userinfo">
      <block wx:if="{{canIUseOpenData}}">
        <view class="userinfo-avatar">
          <open-data type="userAvatarUrl"></open-data>
        </view>
        <open-data type="userNickName"></open-data>
      </block>
      <block wx:elif="{{!hasUserInfo}}">
        <button 
          class="auth-btn {{isLoading ? 'loading' : ''}}" 
          bindtap="handleUserProfile"
          disabled="{{isLoading}}"
        > 
          {{isLoading ? '登录中...' : '微信一键登录'}}
        </button>
      </block>
    </view>
  </view>

  <!-- 手机号注册区域 -->
  <view class="register-section" wx:if="{{hasUserInfo && !isRegistered && showPhoneButton}}">
    <button 
      class="phone-button" 
      open-type="getPhoneNumber" 
      bindgetphonenumber="getPhoneNumber"
    >
      使用手机号快速注册
    </button>
  </view>

  <!-- 保持其他原有内容 -->
  <view class="daily-recommend">
    <!-- 保持原有内容 -->
  </view>

  <view class="weather-suggestions">
    <!-- 保持原有内容 -->
  </view>
</view>